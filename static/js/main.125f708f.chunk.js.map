{"version":3,"sources":["components/style.module.css","components/SearchBar.jsx","components/Button.jsx","components/ImageGallery.jsx","components/ImageGalleryItem.jsx","components/Modal.jsx","components/request.js","App.js","index.js"],"names":["module","exports","SearchBar","state","text","placeholder","handleInput","event","setState","target","value","onSubmit","preventDefault","trim","props","handleSubmit","className","style","searchCont","this","input","type","onChange","iconCont","onClick","icon","Component","Button","handleLoadMore","buttonCont","ImageGallery","dataArray","page","status","showModal","modalUrl","toggleModal","prev","toggleModalData","e","gettingLink","prevState","prevProps","searchRequest","request","then","res","data","hits","length","toast","warn","catch","err","Element","document","getElementById","id","setTimeout","scrollIntoView","behavior","modalId","obj","find","el","toString","largeImageURL","error","spinContainer","color","height","width","src","modalImg","alt","gallery","ImageGalleryItem","map","photoCard","photoImg","webformatURL","modalRoot","querySelector","Modal","handleKeyDown","code","handleBackdropClick","ev","currentTarget","window","addEventListener","removeEventListener","createPortal","overlay","modalContainer","children","closeButton","url","axios","get","App","searchText","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.125f708f.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchCont\":\"style_searchCont__2j2dc\",\"buttonCont\":\"style_buttonCont__22LaX\",\"input\":\"style_input__28PDI\",\"iconCont\":\"style_iconCont__3_cYD\",\"icon\":\"style_icon__1gk02\",\"gallery\":\"style_gallery__1RYzf\",\"photoCard\":\"style_photoCard__2pRd6\",\"photoImg\":\"style_photoImg__3DTbp\",\"overlay\":\"style_overlay__g04iX\",\"closeButton\":\"style_closeButton__3_VoY\",\"modalContainer\":\"style_modalContainer__1j5Ao\",\"modalImg\":\"style_modalImg__FlakY\",\"spinContainer\":\"style_spinContainer__2aeDd\"};","\r\nimport { Component } from \"react\";\r\nimport style from \"./style.module.css\";\r\nimport { BiSearchAlt } from \"react-icons/bi\";\r\n\r\n\r\n class SearchBar extends Component{\r\n\r\n     state = {\r\n         text: \"\",\r\n         placeholder:\"What to search?\"\r\n     }\r\n\r\n     handleInput = (event) => {\r\n         this.setState({\r\n           text:event.target.value\r\n         })\r\n     }\r\n\r\n     onSubmit=(event) => {\r\n                event.preventDefault();\r\n                if (this.state.text.trim() !== \"\") { \r\n                this.props.handleSubmit(this.state.text.trim());\r\n                // После сабмита сделаем текст поискового запроса плейсхолдером, мне кажеться это прикольно,\r\n                // будет видно что мы искали, и совсем не будет мешать новому поиску)\r\n                this.setState({ placeholder: this.state.text, text: \"\" })\r\n                } else {\r\n                    this.setState({placeholder:\"What to search?\"})\r\n            }\r\n            }\r\n\r\n\r\nrender(){\r\n    return<>\r\n        <div className={style.searchCont}>\r\n            <form onSubmit={this.onSubmit}>\r\n                \r\n                \r\n                <input\r\n                \r\n                className={style.input}\r\n                type=\"text\"\r\n                value={this.state.text}\r\n                placeholder={this.state.placeholder}\r\n                onChange={this.handleInput }\r\n                />\r\n                <div className={style.iconCont}\r\n                    // type=\"button\"\r\n                    onClick={this.onSubmit}\r\n                >\r\n                                   \r\n                    <BiSearchAlt className={style.icon}/>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    </>\r\n};\r\n}\r\n\r\nexport { SearchBar }\r\n\r\n\r\n\r\n","import style from \"./style.module.css\"\r\n\r\nexport function Button({handleLoadMore}) {\r\n    return<>\r\n        <div className={style.buttonCont}>\r\n            <button\r\n                className={style.input}\r\n                type=\"button\"\r\n                onClick={handleLoadMore}\r\n                >Load more</button>\r\n        </div>\r\n        </>\r\n}","import { Component } from \"react\";\r\nimport { toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport style from \"./style.module.css\";\r\nimport { Button, ImageGalleryItem, Modal, request } from \"./index\";\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\nimport Loader from \"react-loader-spinner\";\r\n\r\nclass ImageGallery extends Component{\r\n\r\n  state = {\r\n        dataArray: [],\r\n        page: 1,\r\n        status: \"idle\",\r\n      showModal: false,\r\n        modalUrl:\"\"\r\n    }\r\n\r\n\r\n \r\n\r\n   componentDidUpdate(prevProps, prevState) {\r\n        const {props, state } = this;\r\n\r\n     if (prevProps.searchRequest !== props.searchRequest) {\r\n           this.setState({status:\"pending\"})\r\n           \r\n       request(state.page, props.searchRequest)\r\n              .then((res) => {\r\n               if (res.data.hits.length < 1) {\r\n                 toast.warn(\"Check your request, no data received\");\r\n                 this.setState({ status: \"idle\" });\r\n                }else{this.setState({\r\n                   dataArray: res.data.hits,\r\n                   status:\"resolved\"\r\n               })};   \r\n              })\r\n               .catch((err) => this.setState({ status: \"reject\" }))\r\n           \r\n       } else if (prevState.page !== state.page) {\r\n           this.setState({status:\"pending\"})\r\n           \r\n           request(state.page, props.searchRequest)\r\n          .then((res) => {\r\n           if (res.data.hits.length < 1) {\r\n             toast.warn(\"These are all pictures for this request\");\r\n             this.setState({status:\"idle\"})\r\n           } else {\r\n             this.setState((prevState) => ({\r\n                   dataArray: [...prevState.dataArray, ...res.data.hits],\r\n                   status:\"resolved\"\r\n                    })); \r\n               \r\n             if (res.data.hits[0]) {\r\n                  let Element = document.getElementById(res.data.hits[0].id) ;                \r\n                  setTimeout(()=>\r\n                 Element.scrollIntoView({ behavior: \"smooth\" }), 900)               \r\n                   }\r\n           }\r\n         }\r\n         )\r\n               .catch((err) => this.setState({ status: \"reject\" }))\r\n        }\r\n  }\r\n  \r\n\r\n  toggleModal = () => {\r\n    this.setState((prev) => ({\r\n      showModal: !prev.showModal,\r\n      status:!prev.showModal?\"idle\":\"resolved\"\r\n    }))\r\n  }\r\n  \r\n  \r\n  toggleModalData = (e) => {    \r\n    this.setState((prev) => ({\r\n      showModal: !prev.showModal,\r\n      modalUrl: this.gettingLink(prev,e),\r\n      status:!prev.showModal?\"idle\":\"resolved\"       \r\n        }))\r\n    }\r\n  \r\n  gettingLink(prev,e) {\r\n    const modalId=e.target.id;\r\n    const obj = prev.dataArray.find((el) => el.id.toString() === modalId)\r\n    if(obj){return obj.largeImageURL}\r\n    \r\n  };\r\n\r\n  handleLoadMore = () => this.setState((prevState) => ({\r\n        page: prevState.page + 1\r\n    }));\r\n\r\n\r\n  render() {\r\n    const { state, handleLoadMore, toggleModal, toggleModalData } = this\r\n    return <>\r\n      {state.status === \"reject\" && toast.error(\"unknown error, check connection\")}\r\n\r\n      {state.status === \"pending\" && (\r\n        <div  className={style.spinContainer}>\r\n            <Loader type=\"Circles\" color=\"#00BFFF\" height={120} width={120} />\r\n        </div>)\r\n  }\r\n\r\n        {state.showModal && <Modal\r\n            toggleModal={toggleModal}>\r\n              <img src={state.modalUrl} className={style.modalImg} alt=\"\" />\r\n              \r\n          </Modal>}\r\n          \r\n          {!state.showModal &&\r\n            <ul className={style.gallery}>\r\n                <ImageGalleryItem\r\n                  dataArray={state.dataArray}\r\n                  toggleModalData={toggleModalData}\r\n                />\r\n            </ul>}\r\n          \r\n            {state.status===\"resolved\" && (<Button\r\n            handleLoadMore={handleLoadMore}\r\n            />)}\r\n            </>\r\n    }\r\n}\r\n\r\n\r\nexport { ImageGallery }\r\n\r\n","import style from \"./style.module.css\"\r\n\r\nexport  function ImageGalleryItem({ dataArray, toggleModalData }) {\r\n  \r\n return dataArray.map(el => \r\n    (       \r\n    <li className={style.photoCard} key={el.id} id={el.id}  >\r\n     <img\r\n       onClick={(e) => toggleModalData(e)}\r\n       className={style.photoImg}\r\n       src={el.webformatURL} alt=\"\"\r\n       id={el.id}\r\n     />\r\n    </li>\r\n  )\r\n  )\r\n  \r\n  \r\n}\r\n\r\n","import { Component } from \"react\";\r\nimport { createPortal } from \"react-dom\";\r\nimport style from \"./style.module.css\"\r\n\r\n\r\nconst modalRoot = document.querySelector(\"#modal-root\");\r\nexport class Modal extends Component {\r\n\r\n    handleKeyDown=(e) => {\r\n        if (e.code === \"Escape\") { this.props.toggleModal() }\r\n        \r\n        }\r\n\r\n    componentDidMount() {\r\n        window.addEventListener('keydown',this.handleKeyDown )\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        window.removeEventListener('keydown',this.handleKeyDown )\r\n    }\r\n\r\n\r\n    handleBackdropClick = (ev) => {\r\n        if (ev.target === ev.currentTarget) {\r\n        this.props.toggleModal()\r\n    } }\r\n    \r\n    render(){\r\n        return createPortal(\r\n            <div\r\n                className={style.overlay}\r\n                onClick={this.handleBackdropClick}\r\n            >\r\n            <div className={style.modalContainer}>\r\n            {this.props.children}\r\n                </div>\r\n                <button type=\"button\" onClick={this.props.toggleModal} className={style.closeButton}>Close</button>\r\n        </div>,modalRoot     \r\n    )  }\r\n}\r\n\r\n\r\n","import axios from \"axios\";\n\nconst BASE_URL = \"https://pixabay.com/api/\";\nconst KEY = \"23012527-abace86bcdc7661bfd5472938\";\n\nexport function request(page, searchRequest) {\n  const url = `${BASE_URL}?key=${KEY}&per_page=12&page=${page}&q=${searchRequest}`;\n  return axios.get(url);\n}\n","import { SearchBar, ImageGallery } from \"./components/index\";\nimport \"./App.css\";\nimport { Component } from \"react\";\nimport { ToastContainer } from \"react-toastify\";\n\nclass App extends Component {\n  state = {\n    searchText: \"\",\n  };\n\n  handleSubmit = (text) => {\n    this.setState({ searchText: text });\n  };\n\n  render() {\n    const { handleSubmit, state } = this;\n    return (\n      <>\n        <SearchBar handleSubmit={handleSubmit} />\n\n        <ImageGallery searchRequest={state.searchText} />\n\n        <ToastContainer />\n      </>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}